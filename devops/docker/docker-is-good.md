# 내가 Docker를 좋아하는 이유

이번 글에서는 내가 Docker의 장점 중 에서도 특히 개인적으로 도움이 되는 내용들에 대해 소개해보려한다.

## 1. 편리하고 간단한 배포
개발 환경에서 Docker로 실행한 어플리케이션이 잘 작동했다면, 대부분의 다른 환경에서도 유사하게 동작할 가능성이 높기 때문에 배포할 때 서버 환경의 차이에 대해 걱정할 필요가 크게 없다.

기존에는 개발 환경과 운영 환경 간의 미묘한 차이 때문에 문제가 생기는 경우가 잦았다. OS 버전, 라이브러리 버전, 설치 경로 등 이런 사소한 차이가 원인이 되는 경우가 많다. 하지만 Docker는 컨테이너 안에 실행에 필요한 모든 환경을 고스란히 일관적으로 담아두기 때문에 이런 문제를 해결해준다.  

특히 Docker 이미지를 한 번 잘 만들어두면, 다른 서버로 이식하거나 클라우드 환경과 On-Premise 환경 간 전환도 무척 간단하다.

## 2. 가벼운 환경  
Docker가 마음에 드는 또 하나의 이유는 '가벼움'이다.
데이터베이스, 웹 애플리케이션 서버, 검색 엔진 등 여러 서비스를 각각 별도의 서버에서 실행하려면 당연히 리소스(=비용)이 커질 수밖에 없다.  

그런데 Docker는 하나의 서버에서 여러 개의 경량 컨테이너를 띄워서 이런 부담을 줄여준다. 리소스를 공유하면서도 각 컨테이너는 독립적으로 작동하기 때문에 효율성과 안정성을 모두 잡을 수 있다.

예를 들어, 개발 단계에서 PostgreSQL, Redis, Elasticsearch 같은 여러 서비스를 로컬 환경에서 실행해야 한다면, 과거에는 가상머신으로 관리하거나 각 서비스를 직접 설치해야 했다. 초기화나 마이그레이션도 굉장히 복잡한 과정을 겪어야만 했다.

하지만 이제는 간단히 컨테이너를 구성해서 띄우고 종료하면 끝이다. volume 정보를 그대로 복사해오면 마이그레이션도 뚝딱이다.

## 3. 모듈화

데이터베이스, 검색 엔진, 파일 관리 시스템, 웹 서버, 캐시 시스템 등등.. 서비스를 운영하기 위해서는 필요한 요소들이 참 많다. 이런 것들을 각각 설정하려면 시간도 많이 들고 복잡하기 마련이다.

하지만 Docker를 사용한다면 각 요소를 별도의 컨테이너로 모듈화해서 관리할 수 있다.

심지어 `docker-compose` 파일을 사용하면 이런 복잡한 환경을 한번에 손쉽게 관리할 수 있다. 데이터베이스, 웹 서버, 캐시 등을 YAML 파일 하나로 정의하고 간단하게 실행 및 컨테이너를 관리할 수 있어서 정말 편리하다. 배포뿐만 아니라 개발환경 세팅에도 이만한게 없다.

```yaml
version: '3.8'
services:
  web:
    image: nginx
    ports:
      - "8080:80"
  db:
    image: mysql
    environment:
      MYSQL_ROOT_PASSWORD: example

```

> docker compose 예시

## 결론  

물론 진입장벽이 꽤 높긴 하다. 

Dockerfile 작성법이나 컨테이너 간 네트워크 구성, 포트포워딩은 처음에는 낯설고 복잡하게 느껴질 수 있다. 적절한 도커 이미지를 선택하는것도 요령이 필요하다. 

도커 볼륨을 내부적으로 다루는 부분은 직관적이지 않아서 데이터를 제대로 저장 및 관리하려면 별도로 마운트 설정하는 법을 배워야 한다.  

하지만 이 부분은 인터넷에 정말 많은 정보와 예제가 존재하기 때문에, 천천히 학습하다 보면 익숙해질 수 있다. Docker 공식 문서와 커뮤니티 자료는 매우 방대하고, 대부분의 문제는 검색만으로 해결 가능하다. 
아직도 들어만 보고 써본적이 없다면 Docker를 바로 활용해보는걸 추천한다. 처음에 겪을 시행착오는 나중의 편리함에 비하면 정말 아무것도 아니다.